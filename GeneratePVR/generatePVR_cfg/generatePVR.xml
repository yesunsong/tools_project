<?xml version="1.0" encoding="UTF-8"?>
<project name="generate PVR" default="single" basedir=".">
	<property name="ant-contrib.jar" location="${build.dir}/build/lib/ant-contrib-1.0b3.jar" />
	<taskdef resource="net/sf/antcontrib/antcontrib.properties"
		classpath="${ant-contrib.jar}" />

	<property name="TexturePacker_Path" value="" />
	<property name="folder_path" value="" />
	<property name="directory_path" value="" />
	<property name="filename" value="" />
	<!--像素格式 -->
	<property name="PixelFormat" value="" />
	<property name="DitherMode" value="" />

	<target name="single">
		<!--生成png对应的pvr.ccz文件 -->
		<exec executable="${TexturePacker_Path}">
			<arg
				line="			  
			--format cocos2d 
			--data ${folder_path}/${filename}.plist
			--texture-format pvr2ccz
			--sheet ${folder_path}/${filename}.pvr.ccz
			--opt ${PixelFormat}
			--dither-${DitherMode}
			
			--size-constraints AnySize
			--algorithm Basic
			--border-padding 0
			--shape-padding 0			
			--trim-mode None						
								
			--disable-rotation
			${folder_path}/${filename}.png
			" />
		</exec>
	</target>

	<taskdef name="Sample" classname="MyTask" classpath="MyTask.java" />

	<target name="directory">
		<!--生成目录下的pvr.ccz文件 -->
		<Sample dir="${directory_path}">
			<fileset dir="${directory_path}" casesensitive="yes">
				<exclude name="**/*.pvr.ccz" />
				<exclude name="**/*.plist" />
				<exclude name="**/*.json" />
				<exclude name="**/*.atlas" />
				<exclude name="**/*.ExportJson" />
			</fileset>
		</Sample>
	</target>

</project>